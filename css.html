<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<title>Quiz CSS3 - Base ‚Üí Expert (25 questions)</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 20px; background:#fbfbfd; color:#111; }
  header { max-width:900px; margin:0 auto 20px; }
  h1 { margin:0 0 6px; font-size:1.6rem; }
  p.lead { margin:0 0 16px; color:#444; }
  #quizContainer { max-width:900px; margin:0 auto 60px; }
  section { margin-bottom:20px; padding:14px 16px; background:#fff; border-radius:8px; box-shadow:0 1px 4px rgba(20,20,30,0.04); }
  pre { background:#f6f7fb; padding:10px; border-radius:6px; font-size:0.95rem; overflow:auto; white-space:pre-wrap; word-break:break-word; }
  label { display:block; margin:6px 0; cursor:pointer; }
  input[type="text"] { width:100%; max-width:520px; padding:8px; border:1px solid #ddd; border-radius:6px; }
  button { margin-top:8px; padding:6px 10px; border-radius:6px; border:0; background:#0b76f6; color:#fff; cursor:pointer; }
  .correct { color:green; margin-top:8px; display:block; }
  .wrong { color:#c62828; margin-top:8px; display:block; }
  small.meta { color:#666; display:block; margin-top:6px; }
  /* Menu de navigation */
  .nav-menu {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 15px 25px;
    margin-bottom: 30px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    position: sticky;
    top: 20px;
    z-index: 100;
  }

  .nav-menu h3 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    font-size: 1.1rem;
    text-align: center;
  }

  .nav-links {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }

  .nav-links a {
    display: inline-block;
    padding: 8px 16px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    text-decoration: none;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .nav-links a:hover {
    background: linear-gradient(135deg, #5a6fd8, #6a4190);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .nav-links a.current {
    background: linear-gradient(135deg, #27ae60, #2ecc71);
    border-color: #27ae60;
  }

  @media (max-width: 768px) {
    .nav-links {
      flex-direction: column;
      align-items: center;
    }
    
    .nav-links a {
      width: 100%;
      text-align: center;
      max-width: 200px;
    }
  }
</style>
</head>
<body>
<header>

  <nav class="nav-menu">
    <h3>üìö Navigation</h3>
    <div class="nav-links">
      <a href="index.html">üè† Accueil</a>
      <a href="promise.html">‚ö° Promises</a>
      <a href="scope.html">üîç Scope & Hoisting</a>
      <a href="this.html" class="current">üéØ This & Closures</a>
      <a href="side.html">üîÑ Side Effects</a>
      <a href="wcag.html">‚ôø Accessibilit√©</a>
    </div>
  </nav>

  <h1>Quiz CSS3 ‚Äî Base ‚Üí Expert (25 questions)</h1>
  <p class="lead">Mix QCM (choix unique) + r√©ponses libres. Options m√©lang√©es al√©atoirement. Clique sur "Valider" pour obtenir le feedback.</p>
</header>

<div id="quizContainer" aria-live="polite"></div>

<script>
// =============== donn√©es ===============
const quizData = [
  // 1
  { titre: "1Ô∏è‚É£ Quel s√©lecteur cible tous les √©l√©ments de type p qui sont enfants directs d'un div ?", 
    code: "div > p { /* ... */ }", 
    options: ["div p", "div > p", "div + p", "div ~ p"], 
    reponse: "div > p", type:"qcm",
    explication: "Le '>' s√©lectionne les enfants directs uniquement." },

  // 2
  { titre: "2Ô∏è‚É£ Quelle propri√©t√© change le mod√®le de box pour inclure la bordure et le padding dans la largeur d√©clar√©e ?", 
    code: "/* exemple */ box-sizing: ???", 
    options: ["content-box", "border-box", "padding-box", "margin-box"], 
    reponse: "border-box", type:"qcm",
    explication: "box-sizing: border-box fait inclure padding et border dans width/height." },

  // 3
  { titre: "3Ô∏è‚É£ Quel flux cr√©e display:flex sur un conteneur ? (valeur de display)",
    code: "/* exemple */ .container { display: ??? }",
    options: ["block", "inline-block", "flex", "grid"],
    reponse: "flex", type:"qcm",
    explication: "display:flex active le mod√®le Flexbox sur le conteneur." },

  // 4 (input)
  { titre: "4Ô∏è‚É£ √âcrire la r√®gle pour centrer horizontalement un bloc de largeur fixe (ex: width:600px) dans son parent (raccourci CSS).",
    code: "",
    reponse: "margin:0 auto;", type:"input",
    explication: "margin: 0 auto; centre horizontalement un bloc qui a une largeur d√©finie." },

  // 5
  { titre: "5Ô∏è‚É£ Ordre de sp√©cificit√© : lequel est le plus sp√©cifique ?",
    code: "",
    options: [".class", "#id", "div p", "inline style"], 
    reponse: "inline style", type:"qcm",
    explication: "Les styles inline (attribut style=) ont la plus haute sp√©cificit√© (avant !important)." },

  // 6
  { titre: "6Ô∏è‚É£ Quelle propri√©t√© permet d'emp√™cher qu'un √©l√©ment flex ne d√©passe (squeeze) sa taille minimale (permettre retour √† la ligne) ?",
    code: "",
    options: ["flex-grow", "flex-shrink", "flex-basis", "flex-wrap"],
    reponse: "flex-shrink", type:"qcm",
    explication: "flex-shrink contr√¥le la r√©duction d'un item ; mettre flex-shrink:0 emp√™che le r√©tr√©cissement." },

  // 7
  { titre: "7Ô∏è‚É£ Quelle unit√© d√©pend de la taille de la police racine (root) ?", 
    code: "", 
    options: ["em", "rem", "vw", "%"], 
    reponse: "rem", type:"qcm",
    explication: "rem = root em = relatif √† la police de l'√©l√©ment courant ; rem est relatif √† la racine." },

  // 8
  { titre: "8Ô∏è‚É£ Quelle propri√©t√© CSS permet de cr√©er un espacement (gap) entre les colonnes d'un grid ?",
    code: ".grid { display: grid; grid-template-columns: 1fr 1fr; gap: ??? }",
    options: ["gap", "grid-gap", "column-gap", "grid-column-gap"],
    reponse: "gap", type:"qcm",
    explication: "gap est la propri√©t√© standard (remplace grid-gap dans les versions r√©centes)." },

  // 9 (input)
  { titre: "9Ô∏è‚É£ √âcrire la syntaxe raccourcie pour d√©finir margin-top:10px ; margin-right:20px ; margin-bottom:10px ; margin-left:20px",
    code: "",
    reponse: "margin:10px 20px;", type:"input",
    explication: "Raccourci: top/bottom right/left => margin: 10px 20px;" },

  // 10
  { titre: "üîü Quelle propri√©t√© permet d'empiler les √©l√©ments (z-order) ?",
    code: "",
    options: ["order", "z-index", "stack", "layer"], 
    reponse: "z-index", type:"qcm",
    explication: "z-index contr√¥le l'empilement lorsque position ‚â† static." },

  // 11
  { titre: "1Ô∏è‚É£1Ô∏è‚É£ Quelle valeur de display est recommand√©e pour masquer visuellement mais garder accessible au lecteur d'√©cran ?",
    code: "",
    options: ["display:none", "visibility:hidden", "clip-path: inset(50%)", "technique 'sr-only' (off-screen)"],
    reponse: "technique 'sr-only' (off-screen)", type:"qcm",
    explication: "display:none et visibility:hidden retirent l'√©l√©ment √† l'accessibilit√© ; une technique sr-only (position absolue hors √©cran) conserve l'acc√®s." },

  // 12
  { titre: "1Ô∏è‚É£2Ô∏è‚É£ Quel pr√©fixe n'est plus n√©cessaire pour de nombreuses propri√©t√©s modernes (ex: transform) dans les navigateurs r√©cents ?",
    code: "",
    options: ["-webkit-", "-moz-", "-ms-", "-old-"],
    reponse: "-webkit-", type:"qcm",
    explication: "Historiquement -webkit- √©tait courant ; aujourd'hui transform fonctionne sans pr√©fixe mais -webkit- peut rester pour vieux Safari/anciens iOS." },

  // 13 (input)
  { titre: "1Ô∏è‚É£3Ô∏è‚É£ √âcrire la r√®gle CSS pour rendre un √©l√©ment circulaire (ex: 100px x 100px).",
    code: "",
    reponse: "border-radius:50%;", type:"input",
    explication: "border-radius:50% sur un carr√© rend l'√©l√©ment circulaire." },

  // 14
  { titre: "1Ô∏è‚É£4Ô∏è‚É£ Dans Grid, que fait la fonction repeat(3, 1fr) ?",
    code: "grid-template-columns: repeat(3, 1fr);",
    options: ["3 colonnes de fractions √©gales", "3 lignes de hauteur 1fr", "r√©p√®te 1fr 3 fois horizontalement", "aucune des pr√©c√©dentes"],
    reponse: "3 colonnes de fractions √©gales", type:"qcm",
    explication: "repeat(3,1fr) cr√©e 3 colonnes chacune valant 1fr." },

  // 15
  { titre: "1Ô∏è‚É£5Ô∏è‚É£ Quelle propri√©t√© permet d'appliquer une transformation 2D (rotation) sans d√©clencher de nouvelle composition si possible ?",
    code: "transform: rotate(45deg);",
    options: ["transform", "position", "display", "filter"],
    reponse: "transform", type:"qcm",
    explication: "transform est g√©r√© par le GPU dans de nombreux cas et peut √™tre performant ; will-change: transform peut optimiser." },

  // 16 (input)
  { titre: "1Ô∏è‚É£6Ô∏è‚É£ Quelle est la syntaxe pour d√©finir une variable CSS (custom property) et l'utiliser pour colorer le fond ? (raccourci)",
    code: "",
    reponse: "--main: #0b76f6; background: var(--main);", type:"input",
    explication: "D√©claration: :root { --main: #... } ; utilisation: background: var(--main);" },

  // 17
  { titre: "1Ô∏è‚É£7Ô∏è‚É£ Quelle propri√©t√© CSS contr√¥le si un √©l√©ment s'√©tire pour remplir l'espace disponible en flex ?",
    code: "",
    options: ["align-items", "flex-grow", "justify-content", "flex-basis"],
    reponse: "flex-grow", type:"qcm",
    explication: "flex-grow d√©termine la part d'espace suppl√©mentaire que prendra un item flex." },

  // 18
  { titre: "1Ô∏è‚É£8Ô∏è‚É£ Quel mot-cl√© permet d'emp√™cher qu'une image d√©passe son conteneur et conserve son ratio ?",
    code: "img { max-width: ???; height: auto; }",
    options: ["100%", "none", "auto", "contain"],
    reponse: "100%", type:"qcm",
    explication: "max-width:100% et height:auto maintiennent le ratio et emp√™chent le d√©passement." },

  // 19
  { titre: "1Ô∏è‚É£9Ô∏è‚É£ En CSS Grid, que fait minmax(100px, 1fr) ?",
    code: "grid-template-columns: minmax(100px, 1fr);",
    options: ["min 100px max 1fr", "fixe 100px", "1fr si >=100px sinon 0", "aucune des pr√©c√©dentes"],
    reponse: "min 100px max 1fr", type:"qcm",
    explication: "minmax d√©fini une taille minimale et maximale pour la cellule." },

  // 20 (input)
  { titre: "2Ô∏è‚É£0Ô∏è‚É£ √âcrire la media query mobile-first pour cibler les √©crans plus petits que 768px",
    code: "",
    reponse: "@media (max-width: 767px) { }", type:"input",
    explication: "Mobile-first souvent: styles g√©n√©raux pour mobile, puis @media (min-width:...) ou ici (max-width:767px) pour les plus petits." },

  // 21
  { titre: "2Ô∏è‚É£1Ô∏è‚É£ Quel est l'effet de 'position: absolute' sur le flux normal ?",
    code: "",
    options: ["retire l'√©l√©ment du flux", "garde l'√©l√©ment dans le flux", "le rend inline", "le centre automatiquement"],
    reponse: "retire l'√©l√©ment du flux", type:"qcm",
    explication: "position:absolute retire l'√©l√©ment du flux normal et positionne par rapport √† un anc√™tre positionn√©." },

  // 22
  { titre: "2Ô∏è‚É£2Ô∏è‚É£ Pour une animation CSS, quelle propri√©t√© d√©finit la progression (par ex. 2s) ?",
    code: "animation: slide 2s ease-in-out;",
    options: ["animation-duration", "animation-delay", "animation-iteration-count", "animation-name"],
    reponse: "animation-duration", type:"qcm",
    explication: "La dur√©e de l'animation est d√©finie par animation-duration (ou la position dans la shorthand)." },

  // 23 (input)
  { titre: "2Ô∏è‚É£3Ô∏è‚É£ Quelle propri√©t√© CSS permet d'emp√™cher les sous-pixels/bleed lors d'une transformation 3D (souvent utilis√© pour am√©liorer rendu) ?",
    code: "",
    reponse: "backface-visibility: hidden;", type:"input",
    explication: "backface-visibility: hidden; ou transform-style / will-change am√©liorent parfois le rendu des transformations 3D." },

  // 24
  { titre: "2Ô∏è‚É£4Ô∏è‚É£ En Flexbox, quelle propri√©t√© sur le conteneur contr√¥le l'axe principal ?",
    code: "",
    options: ["flex-direction", "align-items", "justify-content", "flex-wrap"],
    reponse: "flex-direction", type:"qcm",
    explication: "flex-direction d√©finit l'axe principal (row / column / etc.)." },

  // 25 (expert)
  { titre: "2Ô∏è‚É£5Ô∏è‚É£ Quelle propri√©t√© logique (CSS Logical Properties) permet de g√©rer la marge de gauche/droite de fa√ßon sensible √† l'√©criture (ltr/rtl) ?",
    code: "",
    options: ["margin-inline-start", "margin-left", "margin-inline-end", "margin-right"],
    reponse: "margin-inline-start", type:"qcm",
    explication: "Les propri√©t√©s inline-start/inline-end s'adaptent en fonction du sens d'√©criture (ltr/rtl)." }
];

// =============== utilitaires ===============
function shuffle(array){
  const a = array.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function normalizeInputAnswer(s){
  // normalisation l√©g√®re : trim, collapse espaces, quotes unifi√©es, lowercase
  return s.trim().replace(/\s+/g,' ').replace(/"/g,"'").toLowerCase();
}

// =============== g√©n√©ration (apr√®s DOM ready) ===============
document.addEventListener('DOMContentLoaded', () => {
  const container = document.getElementById('quizContainer');
  const quizShuffled = shuffle(quizData);

  quizShuffled.forEach((q, index) => {
    const section = document.createElement('section');

    if(q.type === "qcm"){
      const optionsShuffled = shuffle(q.options);
      const optionsHtml = optionsShuffled.map((opt, i) => `
        <label>
          <input type="radio" name="q${index}" value="${opt}"> ${opt}
        </label>
      `).join('');
      section.innerHTML = `<h2>${q.titre}</h2><pre>${q.code || ''}</pre>${optionsHtml}<button id="btn${index}">Valider</button><span id="result${index}" aria-live="polite"></span>`;
    } else { // input
      section.innerHTML = `<h2>${q.titre}</h2><pre>${q.code || ''}</pre><input type="text" id="input${index}" aria-label="R√©ponse"><button id="btn${index}">Valider</button><span id="result${index}" aria-live="polite"></span>`;
    }

    container.appendChild(section);

    // event listener
    document.getElementById(`btn${index}`).addEventListener('click', () => {
      const resultEl = document.getElementById(`result${index}`);
      resultEl.className = '';
      if(q.type === "qcm"){
        const checked = document.querySelector(`input[name="q${index}"]:checked`);
        if(!checked){
          resultEl.textContent = "‚ö†Ô∏è S√©lectionne une r√©ponse.";
          resultEl.className = "wrong";
          return;
        }
        if(checked.value === q.reponse){
          resultEl.innerHTML = `‚úÖ Correct !<br><small class="meta">Explication : ${q.explication}</small>`;
          resultEl.className = "correct";
        } else {
          resultEl.innerHTML = `‚ùå Faux<br><small>Ta r√©ponse : ${checked.value}</small><br><small>R√©ponse correcte : ${q.reponse}</small><br><small class="meta">Explication : ${q.explication}</small>`;
          resultEl.className = "wrong";
        }
      } else { // input
        const raw = document.getElementById(`input${index}`).value;
        const user = normalizeInputAnswer(raw);
        const correct = normalizeInputAnswer(q.reponse);
        if(user === correct){
          resultEl.innerHTML = `‚úÖ Correct !<br><small class="meta">Explication : ${q.explication}</small>`;
          resultEl.className = "correct";
        } else {
          resultEl.innerHTML = `‚ùå Faux<br><small>Ta r√©ponse : ${raw}</small><br><small>R√©ponse correcte : ${q.reponse}</small><br><small class="meta">Explication : ${q.explication}</small>`;
          resultEl.className = "wrong";
        }
      }
    });
  });
});
</script>
</body>
</html>
